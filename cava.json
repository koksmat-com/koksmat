{
  "journey": "v1",
  "metadata": {
    "app": "cava",
    "name": "Meeting",
    "description": "This is the recipie for running a meeting. Each \"instance\"\nof this recipie is called a ship, and what is keeping everybody\nonboard are the Koksmat's which do all of the trivial work of\nmaking nice food and drinks for the crew and the passengers.\n"
  },
  "triggers": [
    {
      "trigger": null,
      "name": "meetingPurpose",
      "key": "meetingPurpose",
      "details": [
        "title",
        "description"
      ]
    }
  ],
  "waypoints": [
    {
      "port": "Planning",
      "done": [
        "invitation"
      ],
      "loads": {
        "containers": [
          {
            "container": null,
            "name": "Prepare Meeting",
            "key": "meeting:10.10",
            "who": [
              "organizer email title name"
            ],
            "approve": [
              "chair"
            ],
            "consult": [
              "speakers"
            ],
            "inform": [
              "attendees"
            ],
            "needs": [
              "meetingPurpose"
            ],
            "produces": [
              "agenda-suggestion",
              "time-suggestion",
              "place-suggestion"
            ],
            "script": "write-host \"Prepared agenda\"\n"
          },
          {
            "container": null,
            "name": "Pre Settlement",
            "key": "meeting:10.20",
            "who": [
              "organizer"
            ],
            "needs": [
              "attendees-proposed email role",
              "time-suggestion day:number hour:number lengthInMinutes:number",
              "place-suggestion site building",
              "meetingPurpose",
              "agenda-suggestion title description durationInMinutes presenter attendees"
            ],
            "produces": [
              "time-agreed",
              "place-agreed",
              "agenda-agreed",
              "attendees"
            ],
            "script": "write-host \"Aggreed on time,place and agenda\"    \n"
          },
          {
            "container": null,
            "name": "Settle Meeting",
            "key": "meeting:10.30",
            "who": [
              "organizer"
            ],
            "approve": [
              "chair"
            ],
            "needs": [
              "attendee-list",
              "time-agreed",
              "place-agreed",
              "agenda-agreed"
            ],
            "produces": [
              "agenda",
              "time",
              "place"
            ],
            "script": "write-host \"Agenda approved\"                     \n"
          },
          {
            "container": null,
            "name": "Prepare Invitation",
            "key": "meeting:10.40",
            "who": [
              "organizer"
            ],
            "approve": [
              "chair"
            ],
            "needs": [
              "attendees",
              "agenda",
              "time",
              "place"
            ],
            "produces": [
              "resources-requirements"
            ],
            "script": "write-host \"Resources being booked\" \n"
          },
          {
            "container": null,
            "name": "Resource Booking",
            "key": "meeting:10.50",
            "who": [
              "resourceowner"
            ],
            "needs": [
              "resources-suggestion",
              "time",
              "place"
            ],
            "produces": [
              "resources-booking"
            ],
            "script": "write-host \"Resources being booked\"                                   \n"
          },
          {
            "container": null,
            "name": "Invite",
            "key": "meeting:10.60",
            "who": [
              "organizer"
            ],
            "needs": [
              "resource-requirements",
              "resource-booking",
              "organizer",
              "attendees",
              "agenda",
              "time",
              "place"
            ],
            "produces": [
              "invitation"
            ],
            "script": "write-host \"Invitation send\"     \n"
          }
        ]
      }
    },
    {
      "port": "Acceptance",
      "loads": {
        "containers": [
          {
            "container": null,
            "name": "RSVP",
            "key": "meeting:20.10",
            "who": [
              "attendees"
            ],
            "needs": [
              "invitation"
            ],
            "produces": [
              "rsvp"
            ],
            "script": "write-host \"Invitation Received\"                           \n"
          },
          {
            "container": null,
            "name": "Process RSVP",
            "key": "meeting:20.20",
            "who": [
              "organizer"
            ],
            "needs": [
              "rsvps"
            ],
            "produces": [
              "attendeestatues"
            ],
            "script": "write-host \"RSVP Received\"   \n"
          }
        ]
      }
    },
    {
      "port": "Service Ordering",
      "loads": {
        "containers": [
          {
            "container": null,
            "name": "Service Ordering",
            "key": "meeting:30.10",
            "who": [
              "organizer"
            ],
            "needs": [
              "rsvps"
            ],
            "produces": [
              "serviceorder-request"
            ],
            "script": "write-host \"Service Order Requested\"                \n"
          }
        ]
      }
    },
    {
      "port": "Arrival",
      "loads": {
        "containers": [
          {
            "container": null,
            "name": "Arrival",
            "key": "meeting:30.10",
            "who": [
              "attendees"
            ],
            "needs": [
              "invitation"
            ],
            "produces": [
              "rsvp"
            ],
            "script": "write-host \"Arrival Received\"               \n"
          },
          {
            "container": null,
            "name": "Registration",
            "key": "meeting:30.20",
            "who": [
              "reception"
            ],
            "needs": [
              "attendee"
            ],
            "produces": [
              "accessticket"
            ],
            "script": "write-host \"Registration Received\"    \n"
          }
        ]
      }
    },
    {
      "port": "Meet",
      "loads": {
        "containers": [
          {
            "container": null,
            "name": "Meet",
            "key": "meeting:40.10",
            "who": [
              "attendees"
            ],
            "needs": [
              "accessticket"
            ],
            "produces": [
              "rsvp"
            ],
            "script": "write-host \"Meet Received\"             \n"
          },
          {
            "container": null,
            "name": "Welcome",
            "key": "meeting:40.10",
            "who": [
              "chair"
            ],
            "needs": [
              "agendaitems"
            ],
            "produces": [
              "baton"
            ],
            "script": "write-host \"Meet Received\"             \n"
          },
          {
            "container": null,
            "name": "Present",
            "key": "meeting:40.10",
            "who": [
              "presenters"
            ],
            "needs": [
              "baton",
              "agendaitem"
            ],
            "produces": [
              "decesion"
            ],
            "script": "write-host \"Meet Received\"  \n"
          }
        ]
      }
    },
    {
      "port": "Departure",
      "loads": {
        "containers": [
          {
            "container": null,
            "name": "Departure",
            "key": "meeting:50.10",
            "who": [
              "attendees"
            ],
            "needs": [
              "invitation"
            ],
            "produces": [
              "rsvp"
            ],
            "script": "write-host \"Departure Received\"             \n"
          }
        ]
      }
    },
    {
      "port": "Resource services",
      "loads": {
        "containers": [
          {
            "container": null,
            "name": "Resource Booking",
            "key": "meeting:60.10",
            "who": [
              "organizer",
              "resourceowner"
            ],
            "needs": [
              "resources-suggestion",
              "time",
              "place"
            ],
            "produces": [
              "resources-booking"
            ],
            "script": "write-host \"Resources being booked\"\n"
          }
        ]
      }
    },
    {
      "port": "Catering Services",
      "services": [
        {
          "tugs": [
            {
              "tug": null,
              "name": "Change to meeting",
              "who": [
                "attendees"
              ],
              "needs": [
                "invitation",
                "time"
              ],
              "produces": [
                "serviceorder-change",
                "resources-suggestion"
              ],
              "script": "write-host \"Change monitoring\"\n"
            }
          ]
        }
      ],
      "loads": {
        "containers": [
          {
            "container": null,
            "name": "Approval",
            "key": "meeting:70.10",
            "who": [
              "dispatcher"
            ],
            "needs": [
              "serviceorder-request"
            ],
            "produces": [
              "serviceorder-approved"
            ],
            "script": "write-host \"Back Office Received\"                \n"
          },
          {
            "container": null,
            "name": "Production",
            "key": "meeting:70.20",
            "who": [
              "serviceprovider"
            ],
            "needs": [
              "serviceorder-approved"
            ],
            "produces": [
              "serviceorder"
            ],
            "script": "write-host \"Service produced\"                \n"
          },
          {
            "container": null,
            "name": "Delivery",
            "key": "meeting:70.30",
            "who": [
              "serviceprovider"
            ],
            "needs": [
              "serviceorder"
            ],
            "produces": [
              "invoice-suggestion"
            ],
            "script": "write-host \"Service delivered\"                \n"
          },
          {
            "container": null,
            "name": "Invoicing",
            "key": "meeting:70.40",
            "who": [
              "finance"
            ],
            "needs": [
              "invoice-suggestion"
            ],
            "produces": [
              "invoice"
            ],
            "script": "write-host \"Invoice produced\"         \n"
          },
          {
            "container": null,
            "name": "Service Order Payment",
            "key": "meeting:70.50",
            "who": [
              "organizer"
            ],
            "needs": [
              "invoice"
            ],
            "produces": [
              "payment"
            ],
            "script": "write-host \"Payment send\"       \n"
          }
        ]
      }
    }
  ]
}
